\hypertarget{databasewastebin_8json_source}{}\doxysection{databasewastebin.\+json}
\mbox{\hyperlink{databasewastebin_8json}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{databasewastebin_8json_source_l00001}00001 \{"{}type"{}:"{}database"{},"{}name"{}:"{}WasteBinData"{},"{}objects"{}:[\{"{}type"{}:"{}table"{},"{}database"{}:null,"{}name"{}:"{}sensor"{},"{}withoutRowId"{}:false,"{}strict"{}:false,"{}ddl"{}:"{}CREATE TABLE sensor (sensor\_idnr INTEGER PRIMARY KEY, sensor\_type TEXT NOT NULL UNIQUE, sensor\_unit TEXT NOT NULL)"{},"{}columns"{}:[\{"{}name"{}:"{}sensor\_idnr"{},"{}type"{}:"{}INTEGER"{},"{}constraints"{}:[\{"{}type"{}:"{}PRIMARY KEY"{},"{}definition"{}:"{}PRIMARY KEY"{}\}]\},\{"{}name"{}:"{}sensor\_type"{},"{}type"{}:"{}TEXT"{},"{}constraints"{}:[\{"{}type"{}:"{}NOT NULL"{},"{}definition"{}:"{}NOT NULL "{}\},\{"{}type"{}:"{}UNIQUE"{},"{}definition"{}:"{}UNIQUE"{}\}]\},\{"{}name"{}:"{}sensor\_unit"{},"{}type"{}:"{}TEXT"{},"{}constraints"{}:[\{"{}type"{}:"{}NOT NULL"{},"{}definition"{}:"{}NOT NULL"{}\}]\}],"{}rows"{}:[]\},\{"{}type"{}:"{}table"{},"{}database"{}:null,"{}name"{}:"{}sensordata"{},"{}withoutRowId"{}:false,"{}strict"{}:false,"{}ddl"{}:"{}CREATE TABLE sensordata (mac\_address TEXT NOT NULL REFERENCES wastebin (mac\_adress), sensor\_idnr INTEGER NOT NULL, sensor\_value INTEGER NOT NULL, timestamp TEXT NOT NULL)"{},"{}columns"{}:[\{"{}name"{}:"{}mac\_address"{},"{}type"{}:"{}TEXT"{},"{}constraints"{}:[\{"{}type"{}:"{}NOT NULL"{},"{}definition"{}:"{}NOT NULL "{}\},\{"{}type"{}:"{}FOREIGN KEY"{},"{}definition"{}:"{}REFERENCES wastebin (mac\_adress)"{}\}]\},\{"{}name"{}:"{}sensor\_idnr"{},"{}type"{}:"{}INTEGER"{},"{}constraints"{}:[\{"{}type"{}:"{}NOT NULL"{},"{}definition"{}:"{}NOT NULL"{}\}]\},\{"{}name"{}:"{}sensor\_value"{},"{}type"{}:"{}INTEGER"{},"{}constraints"{}:[\{"{}type"{}:"{}NOT NULL"{},"{}definition"{}:"{}NOT NULL"{}\}]\},\{"{}name"{}:"{}timestamp"{},"{}type"{}:"{}TEXT"{},"{}constraints"{}:[\{"{}type"{}:"{}NOT NULL"{},"{}definition"{}:"{}NOT NULL"{}\}]\}],"{}rows"{}:[]\},\{"{}type"{}:"{}table"{},"{}database"{}:null,"{}name"{}:"{}settings"{},"{}withoutRowId"{}:false,"{}strict"{}:false,"{}ddl"{}:"{}CREATE TABLE settings (mac\_adress TEXT REFERENCES wastebin (mac\_adress), SSID TEXT NOT NULL, password TEXT, mqtt\_server TEXT NOT NULL, mqtt\_username TEXT, mqtt\_password TEXT, mqtt\_port INTEGER NOT NULL, sensor\_data\_topic TEXT NOT NULL)"{},"{}columns"{}:[\{"{}name"{}:"{}mac\_adress"{},"{}type"{}:"{}TEXT"{},"{}constraints"{}:[\{"{}type"{}:"{}FOREIGN KEY"{},"{}definition"{}:"{}REFERENCES wastebin (mac\_adress)"{}\}]\},\{"{}name"{}:"{}SSID"{},"{}type"{}:"{}TEXT"{},"{}constraints"{}:[\{"{}type"{}:"{}NOT NULL"{},"{}definition"{}:"{}NOT NULL"{}\}]\},\{"{}name"{}:"{}password"{},"{}type"{}:"{}TEXT"{}\},\{"{}name"{}:"{}mqtt\_server"{},"{}type"{}:"{}TEXT"{},"{}constraints"{}:[\{"{}type"{}:"{}NOT NULL"{},"{}definition"{}:"{}NOT NULL"{}\}]\},\{"{}name"{}:"{}mqtt\_username"{},"{}type"{}:"{}TEXT"{}\},\{"{}name"{}:"{}mqtt\_password"{},"{}type"{}:"{}TEXT"{}\},\{"{}name"{}:"{}mqtt\_port"{},"{}type"{}:"{}INTEGER"{},"{}constraints"{}:[\{"{}type"{}:"{}NOT NULL"{},"{}definition"{}:"{}NOT NULL"{}\}]\},\{"{}name"{}:"{}sensor\_data\_topic"{},"{}type"{}:"{}TEXT"{},"{}constraints"{}:[\{"{}type"{}:"{}NOT NULL"{},"{}definition"{}:"{}NOT NULL"{}\}]\}],"{}rows"{}:[]\},\{"{}type"{}:"{}table"{},"{}database"{}:null,"{}name"{}:"{}testperson"{},"{}withoutRowId"{}:false,"{}strict"{}:false,"{}ddl"{}:"{}CREATE TABLE testperson (idnr INTEGER PRIMARY KEY, surname TEXT NOT NULL, birthyear INTEGER, nrofroommates INTEGER, postalcode TEXT NOT NULL, housenr TEXT NOT NULL, streetname TEXT NOT NULL)"{},"{}columns"{}:[\{"{}name"{}:"{}idnr"{},"{}type"{}:"{}INTEGER"{},"{}constraints"{}:[\{"{}type"{}:"{}PRIMARY KEY"{},"{}definition"{}:"{}PRIMARY KEY"{}\}]\},\{"{}name"{}:"{}surname"{},"{}type"{}:"{}TEXT"{},"{}constraints"{}:[\{"{}type"{}:"{}NOT NULL"{},"{}definition"{}:"{}NOT NULL"{}\}]\},\{"{}name"{}:"{}birthyear"{},"{}type"{}:"{}INTEGER"{}\},\{"{}name"{}:"{}nrofroommates"{},"{}type"{}:"{}INTEGER"{}\},\{"{}name"{}:"{}postalcode"{},"{}type"{}:"{}TEXT"{},"{}constraints"{}:[\{"{}type"{}:"{}NOT NULL"{},"{}definition"{}:"{}NOT NULL"{}\}]\},\{"{}name"{}:"{}housenr"{},"{}type"{}:"{}TEXT"{},"{}constraints"{}:[\{"{}type"{}:"{}NOT NULL"{},"{}definition"{}:"{}NOT NULL"{}\}]\},\{"{}name"{}:"{}streetname"{},"{}type"{}:"{}TEXT"{},"{}constraints"{}:[\{"{}type"{}:"{}NOT NULL"{},"{}definition"{}:"{}NOT NULL"{}\}]\}],"{}rows"{}:[]\},\{"{}type"{}:"{}table"{},"{}database"{}:null,"{}name"{}:"{}wastebin"{},"{}withoutRowId"{}:false,"{}strict"{}:false,"{}ddl"{}:"{}CREATE TABLE wastebin (mac\_adress TEXT REFERENCES testperson (idnr), testperson INTEGER PRIMARY KEY, wastebinnr INTEGER UNIQUE NOT NULL)"{},"{}columns"{}:[\{"{}name"{}:"{}mac\_adress"{},"{}type"{}:"{}TEXT"{},"{}constraints"{}:[\{"{}type"{}:"{}FOREIGN KEY"{},"{}definition"{}:"{}REFERENCES testperson (idnr)"{}\}]\},\{"{}name"{}:"{}testperson"{},"{}type"{}:"{}INTEGER"{},"{}constraints"{}:[\{"{}type"{}:"{}PRIMARY KEY"{},"{}definition"{}:"{}PRIMARY KEY"{}\}]\},\{"{}name"{}:"{}wastebinnr"{},"{}type"{}:"{}INTEGER"{},"{}constraints"{}:[\{"{}type"{}:"{}UNIQUE"{},"{}definition"{}:"{}UNIQUE "{}\},\{"{}type"{}:"{}NOT NULL"{},"{}definition"{}:"{}NOT NULL"{}\}]\}],"{}rows"{}:[]\},\{"{}type"{}:"{}view"{},"{}database"{}:null,"{}name"{}:"{}view\_al\_testpersons\_with\_wastebinnr"{},"{}ddl"{}:"{}CREATE VIEW view\_al\_testpersons\_with\_wastebinnr AS SELECT tp.*,\(\backslash\)n       wb.wastebinnr\(\backslash\)n  FROM testperson AS tp\(\backslash\)n       JOIN\(\backslash\)n       wastebin AS wb ON tp.idnr = wb.testperson"{},"{}select"{}:"{}SELECT tp.*,\(\backslash\)n       wb.wastebinnr\(\backslash\)n  FROM testperson AS tp\(\backslash\)n       JOIN\(\backslash\)n       wastebin AS wb ON tp.idnr = wb.testperson"{}\},\{"{}type"{}:"{}view"{},"{}database"{}:null,"{}name"{}:"{}view\_all\_sensors\_data"{},"{}ddl"{}:"{}CREATE VIEW view\_all\_sensors\_data AS SELECT s.sensor\_type,\(\backslash\)n       CASE WHEN sensor\_type = \(\backslash\)"{}lidposition\(\backslash\)"{} AND \(\backslash\)n                 sd.sensor\_value = 1 THEN 'closed' WHEN sensor\_type = \(\backslash\)"{}lidposition\(\backslash\)"{} AND \(\backslash\)n                                                        sd.sensor\_value = 0 THEN 'open' ELSE sd.sensor\_value END AS sensorvalue,\(\backslash\)n       sd.timestamp,\(\backslash\)n       sd.mac\_address\(\backslash\)n  FROM sensor AS s\(\backslash\)n       JOIN\(\backslash\)n       sensordata AS sd ON s.sensor\_idnr = sd.sensor\_idnr"{},"{}select"{}:"{}SELECT s.sensor\_type,\(\backslash\)n       CASE WHEN sensor\_type = \(\backslash\)"{}lidposition\(\backslash\)"{} AND \(\backslash\)n                 sd.sensor\_value = 1 THEN 'closed' WHEN sensor\_type = \(\backslash\)"{}lidposition\(\backslash\)"{} AND \(\backslash\)n                                                        sd.sensor\_value = 0 THEN 'open' ELSE sd.sensor\_value END AS sensorvalue,\(\backslash\)n       sd.timestamp,\(\backslash\)n       sd.mac\_address\(\backslash\)n  FROM sensor AS s\(\backslash\)n       JOIN\(\backslash\)n       sensordata AS sd ON s.sensor\_idnr = sd.sensor\_idnr"{}\},\{"{}type"{}:"{}view"{},"{}database"{}:null,"{}name"{}:"{}view\_all\_wastebin\_settings"{},"{}ddl"{}:"{}CREATE VIEW view\_all\_wastebin\_settings AS SELECT w.wastebinnr,\(\backslash\)n       w.mac\_adress,\(\backslash\)n       s.SSID,\(\backslash\)n       s.password,\(\backslash\)n       s.mqtt\_server,\(\backslash\)n       s.mqtt\_username,\(\backslash\)n       s.mqtt\_password,\(\backslash\)n       s.mqtt\_port,\(\backslash\)n       s.sensor\_data\_topic,\(\backslash\)n       w.testperson\(\backslash\)n  FROM wastebin AS w\(\backslash\)n       JOIN\(\backslash\)n       settings AS s ON w.mac\_adress = s.mac\_adress"{},"{}select"{}:"{}SELECT w.wastebinnr,\(\backslash\)n       w.mac\_adress,\(\backslash\)n       s.SSID,\(\backslash\)n       s.password,\(\backslash\)n       s.mqtt\_server,\(\backslash\)n       s.mqtt\_username,\(\backslash\)n       s.mqtt\_password,\(\backslash\)n       s.mqtt\_port,\(\backslash\)n       s.sensor\_data\_topic,\(\backslash\)n       w.testperson\(\backslash\)n  FROM wastebin AS w\(\backslash\)n       JOIN\(\backslash\)n       settings AS s ON w.mac\_adress = s.mac\_adress"{}\}]\}}

\end{DoxyCode}
